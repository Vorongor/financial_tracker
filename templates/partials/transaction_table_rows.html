{% for transaction in transaction_list %}
  <tr>
    <td class="small">{{ transaction.date|date:"d M Y H:i" }}</td>
    <td>
        <span
            class="badge {% if transaction.transaction_type == 'Income' %}bg-success{% else %}bg-danger{% endif %}">
            {{ transaction.transaction_type }}
        </span>
    </td>
    <td>
      {% if transaction.category %}
        <span class="text-info">{{ transaction.category.name }}</span>
      {% else %}
        <span class="text-muted">â€”</span>
      {% endif %}
    </td>
    <td>{{ transaction.payer.username }}</td>
    <td class="fw-bold {% if transaction.transaction_type == 'Income' %}text-success{% else %}text-danger{% endif %}">
      {% if transaction.transaction_type == 'Income' %}+{% else %}
        -{% endif %}{{ transaction.amount }}
    </td>
    <td class="text-end">
      <div class="btn-group btn-group-sm">
        <form method="post"
              action="{% url "transaction_delete" pk=transaction.id %}">
          {% csrf_token %}
          <button type="submit" class="btn btn-outline-danger" title="Delete">
            <i class="bi bi-trash"></i> Delete
          </button>
        </form>
      </div>
    </td>
  </tr>
{% empty %}
  <tr>
    <td colspan="6" class="text-center py-4 text-muted fst-italic">
      No transactions found matching criteria.
    </td>
  </tr>
{% endfor %}